<!DOCTYPE html>
<html lang="en">

<head>
	<title>Registro Nuevo Ingreso</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--===============================================================================================-->
	<link rel="icon" type="image/png" href="images/logoescom.png" />
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
	<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<!--===============================================================================================-->
	<link href="https://stackpath.bootsrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/datePicker/jquery.datetimepicker.min.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
	<script src='https://www.google.com/recaptcha/api.js'></script>
	<!--<script src='https://www.google.com/recaptcha/api.js?hl=es'></script>-->
</head>

<body>
	<div class="bg-contact2" style="background-image: url('images/ESCOM.png');">
		<div class="container-contact2">
			<div class="wrap-contact2">
				<div class="escudo1">
					<img src="images/LOGOTIPO_IPN.png" height=150px>
				</div>
				<div class="escudo2">
					<img src="images/logoescom.png" width=150px>
				</div>
				<form id="aspirante_form" class="contact2-form validate-form">
					<span class="titulo1">
						Instituto Politécnico Nacional
					</span>
					<span class="titulo2">
						Escuela Superior de Cómputo
					</span>
					<span class="subtitulo">
						Registro Alumnos Nuevo Ingreso - Agosto 2020
					</span>

					<!--======================================================================================================-->


					<div class="datosGen">
						<div class="wrap-input2 validate-input" data-validate="Nombre(s) es requerido">
							<input class="input2" type="text" name="name">
							<span class="focus-input2" data-placeholder="Nombre(s)"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Apellido Paterno es requerido">
							<input class="input2" type="text" name="namep">
							<span class="focus-input2" data-placeholder="Apellido Paterno"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Apellido Materno es requerido">
							<input class="input2" type="text" name="namem">
							<span class="focus-input2" data-placeholder="Apellido Materno"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Fecha de Nacimiento es requerido">
							<input class="input2 form-control" type="text" name="daten" id="picker">
							<span class="focus-input2" data-placeholder="Fecha de Nacimiento"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Lugar de Nacimiento es requerido">
							<datalist id="lugNac">
								<option value="Aguascalientes">
								<option value="Baja California">
								<option value="Baja California Sur">
								<option value="Campeche">
								<option value="Chiapas">
								<option value="Chihuahua">
								<option value="Coahuila">
								<option value="Colima">
								<option value="Ciudad de M&eacute;xico">
								<option value="Durango">
								<option value="Estado de M&eacute;xico">
								<option value="Guanajuato">
								<option value="Guerrero">
								<option value="Hidalgo">
								<option value="Jalisco">
								<option value="Michoac&aacute;n">
								<option value="Moreos">
								<option value="Nayarit">
								<option value="Nuevo Le&oacute;n">
								<option value="Oaxaca">
								<option value="Puebla">
								<option value="Quer&eacute;taro">
								<option value="Quintana Roo">
								<option value="San Luis Potos&iacute;">
								<option value="Sinaloa">
								<option value="Sonora">
								<option value="Tabasco">
								<option value="Tamaulipas">
								<option value="Tlaxcala">
								<option value="Veracruz">
								<option value="Yucat&aacute;n">
								<option value="Zacatecas">
							</datalist>
							<input list="lugNac" class="input2 list" type="text" name="placen">
							<span class="focus-input2" data-placeholder="Lugar de Nacimiento"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Sexo es Requerido">
							<datalist id="sexo">
								<option value="Masculino">
								<option value="Femenino">
							</datalist>
							<input list="sexo" class="input2" type="text" name="sex">
							<span class="focus-input2" data-placeholder="Sexo "></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Ingrese CURP Valido">
							<input class="input2" type="text" name="curp">
							<span class="focus-input2" data-placeholder="CURP"></span>
						</div>

					</div>

					<!--======================================================================================================-->

					<div class="contacto">
						<div class="wrap-input2 validate-input" data-validate="Calle y Número es requerido">
							<input class="input2" type="text" name="cyn">
							<span class="focus-input2" data-placeholder="Calle y Número"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Colonia es requerido">
							<input class="input2" type="text" name="col">
							<span class="focus-input2" data-placeholder="Colonia"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Ingrese Código Postal Válido">
							<input class="input2" type="number" name="cp">
							<span class="focus-input2" data-placeholder="Código Postal"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Delegación o Municipio es requerido">
							<input class="input2" type="text" name="del">
							<span class="focus-input2" data-placeholder="Delegación o Municipio"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Ingrese un Nùmero Telefónico Válido">
							<input class="input2" type="number" name="tel">
							<span class="focus-input2" data-placeholder="Telefono o Celular"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Ingrese un Correo Electrónico Valido">
							<input class="input2" type="email" name="email">
							<span class="focus-input2" data-placeholder="Correo"></span>
						</div>
					</div>

					<!--======================================================================================================-->

					<div class="procedencia">
						<div class="wrap-input2 validate-input" data-validate="Institución de Procedencia es requerido">
							<datalist id="institucion">
								<option value="IPN">
								<option value="UNAM">
								<option value="COLBACH">
								<option value="CONALEP">
								<option value="DGB">
								<option value="UEMSTIS">
								<option value="UEMSTAyCM">
								<option value="UEMSTAyCM">
								<option value="UAEM">
								<option value="Otra">
							</datalist>
							<input list="institucion" class="input2" type="text" name="institute">
							<span class="focus-input2" data-placeholder="Institución de Procedencia"></span>
						</div>

						<div class="wrap-input2 validate-input"
							data-validate="Entidad Federativa de Escuela de Procedencia es requerido">
							<datalist id="lugProc">
								<option value="Aguascalientes">
								<option value="Baja California">
								<option value="Baja California Sur">
								<option value="Campeche">
								<option value="Chiapas">
								<option value="Chihuahua">
								<option value="Coahuila">
								<option value="Colima">
								<option value="Ciudad de M&eacute;xico">
								<option value="Durango">
								<option value="Estado de M&eacute;xico">
								<option value="Guanajuato">
								<option value="Guerrero">
								<option value="Hidalgo">
								<option value="Jalisco">
								<option value="Michoac&aacute;n">
								<option value="Moreos">
								<option value="Nayarit">
								<option value="Nuevo Le&oacute;n">
								<option value="Oaxaca">
								<option value="Puebla">
								<option value="Quer&eacute;taro">
								<option value="Quintana Roo">
								<option value="San Luis Potos&iacute;">
								<option value="Sinaloa">
								<option value="Sonora">
								<option value="Tabasco">
								<option value="Tamaulipas">
								<option value="Tlaxcala">
								<option value="Veracruz">
								<option value="Yucat&aacute;n">
								<option value="Zacatecas">
							</datalist>
							<input list="lugProc" class="input2" type="text" name="placep">
							<span class="focus-input2"
								data-placeholder="Entidad Federativa de Escuela de Procedencia"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Nombre de la Escuela es requerido">
							<input class="input2" type="text" name="namee">
							<span class="focus-input2" data-placeholder="Nombre de la Escuela"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Área del Conocimiento es requerido">
							<datalist id="areac">
								<option value="F&iacute;sico-Matem&aacute;ticas">
								<option value="M&eacute;dico-Biol&oacute;gicas">
								<option value="Sociales-Administr&aacute;tivas">
							</datalist>
							<input list="areac" class="input2" type="text" name="area">
							<span class="focus-input2" data-placeholder="Área del Conocimiento"></span>
						</div>

						<div class="wrap-input2 validate-input"
							data-validate="Ingresa Promedio con un solo punto decimal">
							<input class="input2" type="text" name="prom">
							<span class="focus-input2" data-placeholder="Promedio"></span>
						</div>

						<div class="wrap-input2 validate-input" data-validate="Opción es requerido">
							<datalist id="opcion">
								<option value="1ra Opci&oacute;n">
								<option value="2da Opci&oacute;n">
								<option value="3ra Opci&oacute;n">
							</datalist>
							<input list="opcion" class="input2" type="text" name="choice">
							<span class="focus-input2" data-placeholder="ESCOM fue tu:"></span>
						</div>
					</div>

					<!--======================================================================================================-->
					<div class="g-recaptcha" data-sitekey="6LdphuMUAAAAAIbg90zHD9IWeT0mgBB9G9Qjm3ip"></div>
					<div class="container-contact2-form-btn">
						<div class="wrap-contact2-form-btn">
							<div class="contact2-form-bgbtn"></div>
							<button type="button" onClick="get_exam_data()" class="contact2-form-btn">
								Registrarse
							</button>
						</div>
					</div>
					<code id="code" style="color: red;"></code>
				</form>
			</div>
		</div>
	</div>
	
	<script>
		function miFuncion(a) {
			var response = grecaptcha.getResponse();

			if (response.length == 0) {
				alert("Captcha no verificado");
				return false;
				event.preventDefault();
			} else {

				return true;
			}
		}
	</script>

	<!--===============================================================================================-->
	<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
	<!--===============================================================================================-->
	<script src="vendor/bootstrap/js/popper.js"></script>
	<script src="vendor/bootstrap/js/bootstrap.min.js"></script>
	<!--===============================================================================================-->
	<script src="vendor/select2/select2.min.js"></script>
	<!--===============================================================================================-->
	<!-- <script src="js/validations.js"></script> -->

	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'UA-23581568-13');
	</script>

	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://stackpath.bootsrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>
	<script src="css//datePicker/jquery.datetimepicker.full.min.js"></script>
	<script>

		function get_exam_data() {
			var form = $('#aspirante_form');
			// console.log(form.serialize());
			$.ajax(
				'/RegistroNuevoIngreso-ESCOM/src/aspirante/generatehorario.php',
				{
					type: "POST",
					data: form.serialize(),
					success: function (response) {
						console.log(response);
						if (response == "registrado") {
							document.getElementById("code").innerHTML = "Alumno ya registrado"
						} else {
							var JSONresponse = JSON.parse(response);
							var pdf = new jsPDF('p', 'pt', 'letter');
							pdf.text(165, 30, 'INSTITUTO POLITÉCNICO NACIONAL');
							pdf.setFontSize(12);
							pdf.text(205, 55, 'ESCUELA SUPERIOR DE CÓMPUTO');
							pdf.text(236, 95, 'EXAMEN DIAGNOSTICO');
							pdf.setFontSize(10.5);
							pdf.setFont("helvetica");
							pdf.setFontType("bold");
							pdf.text(235, 140, "Alumno: " + JSONresponse.nombre);
							pdf.text(273, 182, "Salon: " + JSONresponse.salon);
							pdf.text(258, 224, "Fecha: " + JSONresponse.fecha);
							pdf.text(258, 266, "Hora: " + JSONresponse.horario);

							// Descargar el pdf
							pdf.save('examen_' + JSONresponse.nombre + '.pdf');
							window.location.href = "./";
						}
					},
					error: function () {
						console.log('There was some error performing the AJAX call!');
					}
				}
			);
		}

		$('#picker').datetimepicker({
			timepicker: false,
			datepicket: true,
			format: 'd-m-Y',
			value: '',
			weeks: true
		})



	</script>

</body>

</html>